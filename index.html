<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MOBEK MEDIA â€“ Ad Access Setup</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .step-card:hover { box-shadow: 0 0 0 2px #e3ad55; }
    .modal { display: none; position: fixed; z-index: 50; inset: 0; background: rgba(0, 0, 0, 0.7); }
    .modal-content { background: white; padding: 1rem; max-width: 600px; margin: 10vh auto; border-radius: 0.5rem; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-4 text-center text-[#e3ad55]">Welcome to MOBEK MEDIA</h1>
    <p class="text-center mb-6">Letâ€™s set up the access we need to run your ads efficiently.</p><!-- Platform Selection -->
<div class="mb-6">
  <h2 class="text-xl font-semibold mb-2">Which platforms do you want to advertise on?</h2>
  <div class="flex gap-4">
    <label class="flex items-center gap-2">
      <input type="checkbox" class="platform-checkbox" value="meta"> Meta
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" class="platform-checkbox" value="tiktok"> TikTok
    </label>
    <label class="flex items-center gap-2">
      <input type="checkbox" class="platform-checkbox" value="google"> Google
    </label>
  </div>
</div>

<div id="steps-container" class="space-y-6"></div>

  </div>  <!-- Modal -->  <div id="videoModal" class="modal">
    <div class="modal-content">
      <button onclick="closeModal()" class="mb-2 text-red-500">Close âœ–</button>
      <div id="videoContainer"></div>
    </div>
  </div>  <script>
    const platformSteps = {
      meta: [
        {
          text: "Add us as a Partner in your Meta Business Manager",
          link: "https://business.facebook.com/settings/partners/",
          video: "https://www.loom.com/share/meta-partner"
        },
        {
          text: "Grant access to your Facebook Page",
          video: "https://www.loom.com/share/facebook-page-access"
        },
        {
          text: "Grant access to your Ad Account",
          video: "https://www.loom.com/share/meta-ad-account"
        },
        {
          text: "Grant access to your Instagram account",
          video: "https://www.loom.com/share/instagram-access"
        },
        {
          text: "Do you have a Pixel installed?",
          dynamic: true
        },
        {
          text: "If you have a Catalog, grant access (optional)",
          video: "https://www.loom.com/share/meta-catalog"
        }
      ],
      tiktok: [
        {
          text: "Add us to your TikTok Business Center",
          link: "https://business.tiktok.com/business-center",
          video: "https://www.loom.com/share/tiktok-access"
        },
        {
          text: "Grant access to Ad Account and Pixel"
        }
      ],
      google: [
        {
          text: "Grant access to your Google Ads Account",
          video: "https://www.loom.com/share/google-ads-access"
        },
        {
          text: "Share access to Tag Manager or Pixel",
          video: "https://www.loom.com/share/tag-manager"
        },
        {
          text: "Ensure billing settings are configured",
          link: "https://ads.google.com/aw/billing",
          video: "https://www.loom.com/share/google-billing"
        }
      ]
    };

    const stepsContainer = document.getElementById("steps-container");

    document.querySelectorAll(".platform-checkbox").forEach(cb => {
      cb.addEventListener("change", renderSteps);
    });

    function renderSteps() {
      stepsContainer.innerHTML = "";
      const selected = [...document.querySelectorAll(".platform-checkbox")].filter(cb => cb.checked).map(cb => cb.value);
      selected.forEach(platform => {
        const section = document.createElement("div");
        section.innerHTML = `<h2 class="text-xl font-bold mb-2 capitalize">${platform} Setup</h2>`;
        platformSteps[platform].forEach((step, i) => {
          const stepDiv = document.createElement("div");
          stepDiv.className = "step-card bg-white border rounded-xl p-4 mb-3";

          let content = `<p class="font-semibold">${step.text}</p>`;
          if (step.link) content += ` <a href="${step.link}" target="_blank" class="ml-2 text-blue-600 underline">Open link</a>`;
          if (step.video) content += ` <button onclick="showVideo('${step.video}')" class="ml-2 text-[#e3ad55] underline">ðŸŽ¥ Show video</button>`;

          if (step.dynamic) {
            content += `<div class='mt-2'><label class='mr-3'><input type='radio' name='pixel_${platform}' value='yes'> Pixel installed</label><label><input type='radio' name='pixel_${platform}' value='no'> No Pixel</label></div>`;
          }

          content += `<button onclick="markDone(this)" class="block mt-2 px-4 py-1 bg-[#e3ad55] text-white rounded">âœ… I've done this</button>`;

          stepDiv.innerHTML = content;
          section.appendChild(stepDiv);
        });
        stepsContainer.appendChild(section);
      });
    }

    function markDone(btn) {
      btn.textContent = "âœ… Completed";
      btn.disabled = true;
      btn.classList.add("opacity-60");

      // Send progress to Google Sheets
      fetch("https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec", {
        method: "POST",
        body: JSON.stringify({ step: btn.previousElementSibling?.textContent || "Step" }),
        headers: { "Content-Type": "application/json" }
      });
    }

    function showVideo(link) {
      document.getElementById("videoContainer").innerHTML = `<iframe width='100%' height='350' src='${link}' frameborder='0' allowfullscreen></iframe>`;
      document.getElementById("videoModal").style.display = "block";
    }

    function closeModal() {
      document.getElementById("videoModal").style.display = "none";
      document.getElementById("videoContainer").innerHTML = "";
    }
  </script></body>
</html>
